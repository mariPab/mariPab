import axios from 'axios';
import { API_URL } from '../config';


const SEND_ORDER = createActionName('SEND_ORDER');


export const sendOrder = payload => ({ payload, type: SEND_ORDER });



export const newOrderRequest = data => {
  return async dispatch => {
    dispatch(fetchStarted());
    try {
      let res = await axios.post(
        `${API_URL}/order`,
        data,
        {
          headers: {
            'Content-Type': 'application/json',
          },
        },
      );
      dispatch(sendOrder(res.data));
    } catch (e) {
      dispatch(fetchError(e.message));
    }
  };
};


    case SEND_ORDER: {
      return {
        ...statePart,
        order: {
          products: [],
          client: null,
          total: 0,
        }
      };
    }